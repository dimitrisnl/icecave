<!DOCTYPE html><html lang="en"><head><link rel="preload" as="script" href="/icecave/bootstrap.2d3c5c1c.js"/><link rel="preload" as="script" href="/icecave/templates/src/containers/Home.3ac16124.js"/><link rel="preload" as="script" href="/icecave/main.279a06b6.js"/><link rel="preload" as="style" href="/icecave/styles.ac76d160.css"/><link rel="stylesheet" href="/icecave/styles.ac76d160.css"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="https://fonts.googleapis.com/css?family=Nunito&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/solid.css" integrity="sha384-ioUrHig76ITq4aEJ67dHzTvqjsAP/7IzgwE7lgJcg2r7BRNGYSK0LwSmROzYtgzs" crossOrigin="anonymous"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/brands.css" integrity="sha384-i2PyM6FMpVnxjRPi0KW/xIS7hkeSznkllv+Hx/MtYDaHA5VcF0yL3KVlvzp8bWjQ" crossOrigin="anonymous"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/fontawesome.css" integrity="sha384-sri+NftO+0hcisDKgr287Y/1LVnInHJ1l+XC7+FOabmTTIK0HnE2ID+xxvJ21c5J" crossOrigin="anonymous"/><style data-styled="jBDBBH bBubtL   durNoV pznRG jZFkVF ljUrby dSACuU hZnCYl kMvugX bpzaVm kBAKBp jXQlui gWgOBU cimPsI LfXUK jxYQFm UqdZO dUmRVh fQsKuk klRfOT cQfZUh edqeIn diMQN gjWQCQ eJMwfM kRuyZZ cYWBCW hNiKRz jfOEyc fcGLpU iZWcVf kDsEqN" data-styled-version="4.2.0">
/* sc-component-id: sc-bZQynM */
.kMvugX{box-sizing:border-box;}
/* sc-component-id: sc-gzVnrw */
.durNoV{padding:16px;color:#fff;background-color:#2A506F;}.jZFkVF{font-size:1.1em;}.ljUrby{margin-bottom:48px;}.dSACuU{margin-bottom:48px;padding-top:128px;padding-bottom:128px;color:#fff;background-color:#2A506F;}.hZnCYl{margin-top:0;}
/* sc-component-id: sc-htoDjs */
.gWgOBU{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.cimPsI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.LfXUK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: sc-kGXeez */
.eJMwfM{font-size:20px;}
/* sc-component-id: StyledButton-sc-323bzc-0 */
.jfOEyc{display:inline-block;box-sizing:border-box;cursor:pointer;outline:none;font:inherit;-webkit-text-decoration:none;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;border:1px solid #00AEEF;border-radius:20px;color:#444444;padding:4px 30px;font-size:14px;line-height:1.5;background:#00AEEF;color:#444444;border-radius:20px;-webkit-transition:0.1s ease-in-out;transition:0.1s ease-in-out;} .jfOEyc:hover{box-shadow:0px 0px 0px 2px #00AEEF;}
/* sc-component-id: StyledGrommet-sc-19lkkz7-0 */
.bBubtL{font-family:'Nunito',Arial,sans-serif;font-size:14px;line-height:1.5;box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;}
/* sc-component-id: sc-kkGfuU */
.hNiKRz{font-family:CircularStd,Arial,sans-serif;font-weight:500;height:38px;white-space:nowrap;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:white;} .hNiKRz svg{color:inherit !important;font-size:0.875em;} .hNiKRz:disabled{cursor:not-allowed;} .hNiKRz:hover:enabled,.hNiKRz:focus:enabled,.hNiKRz:active:enabled{box-shadow:none;background:hsl(196.29999999999995,100%,37.5%);border-color:hsl(196.29999999999995,100%,37.5%);color:white;opacity:undefined;}
/* sc-component-id: sc-brqgnP */
.cYWBCW{margin-top:16px;}
/* sc-component-id: sc-gPEVay */
.iZWcVf{border:solid 1px #dfdede;border-radius:3px;box-shadow:0 1px 4px 0 rgba(0,0,0,0.14);padding:20px;background-color:#ffffff;min-height:auto;}
/* sc-component-id: sc-btzYZH */
.jBDBBH{font-family:'Nunito',Arial,sans-serif;} .jBDBBH h1,.jBDBBH h2,.jBDBBH h3,.jBDBBH h4,.jBDBBH h5,.jBDBBH h6,.jBDBBH label,.jBDBBH button{font-family:CircularStd,Arial,sans-serif;}
/* sc-component-id: sc-kIPQKe */
.diMQN{margin:0;font-size:48px;}.gjWQCQ{margin:0;margin-top:24px;margin-bottom:16px;font-size:48px;}
/* sc-component-id: sc-eXEjpC */
.jxYQFm{margin:0;font-size:32px;}.UqdZO{margin:0;margin-top:24px;margin-bottom:16px;font-size:32px;}
/* sc-component-id: sc-ibxdXY */
.kDsEqN{margin:0;margin-top:24px;margin-bottom:16px;font-size:24px;}
/* sc-component-id: sc-hrWEMg */
.jXQlui{max-width:calc(32em - 0em);} @media screen and (min-width:32em){.jXQlui{max-width:calc(48em - 4em);}} @media screen and (min-width:48em){.jXQlui{max-width:calc(64em - 8em);}} @media screen and (min-width:64em){.jXQlui{max-width:calc(80em - 16em);}}
/* sc-component-id: sc-eTuwsz */
.bpzaVm{margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;}.kBAKBp{margin-top:48px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;}
/* sc-component-id: sc-iQNlJl */
.cQfZUh{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;} .cQfZUh:active,.cQfZUh:hover{color:hsl(0,0%,80%);}.edqeIn{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;} .edqeIn:active,.edqeIn:hover{color:hsl(196.29999999999995,100%,37.5%);}
/* sc-component-id: sc-bsbRJL */
.fQsKuk{color:#fff;}.klRfOT{color:#00AEEF;}
/* sc-component-id: sc-global-3786679869 */
html{line-height:1.15;-webkit-text-size-adjust:100%;} body{margin:0;} main{display:block;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.75em 0.625em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;}
/* sc-component-id: sc-global-2853973248 */
html{box-sizing:border-box;} *,*:before,*:after{box-sizing:inherit;} body{color:#514e58;}</style></head><body><div id="root"><div class="sc-btzYZH jBDBBH StyledGrommet-sc-19lkkz7-0 bBubtL"><div class="sc-gzVnrw durNoV sc-bZQynM kMvugX"><div class="sc-eTuwsz bpzaVm sc-hrWEMg jXQlui"><div class="sc-htoDjs gWgOBU sc-gzVnrw pznRG sc-bZQynM kMvugX"><h2 class="sc-eXEjpC jxYQFm sc-kfGgVZ dUmRVh">icecave</h2><div class="sc-htoDjs cimPsI sc-gzVnrw jZFkVF sc-bZQynM kMvugX"><a color="#fff" href="https://github.com/dimitrisnl/icecave" aria-labelledby="Github" class="sc-bsbRJL fQsKuk sc-iQNlJl cQfZUh" rel="noopener" target="_blank"><i class="fab fa-github fa-lg"></i></a></div></div></div></div><div class="sc-gzVnrw ljUrby sc-bZQynM kMvugX"><div class="sc-gzVnrw dSACuU sc-bZQynM kMvugX"><div class="sc-eTuwsz bpzaVm sc-hrWEMg jXQlui"><div class="sc-htoDjs LfXUK sc-gzVnrw pznRG sc-bZQynM kMvugX"><h1 class="sc-kIPQKe diMQN sc-kfGgVZ dUmRVh">icecave</h1><div class="sc-kGXeez eJMwfM sc-kgoBCf kRuyZZ">Fast and simple flat file storage for small node js projects</div><a class="sc-kEYyzF sc-brqgnP cYWBCW sc-kkGfuU hNiKRz StyledButton-sc-323bzc-0 jfOEyc" href="https://github.com/dimitrisnl/icecave/releases/tag/2.1.0">Download <!-- -->2.1.0</a></div></div></div><div class="sc-eTuwsz kBAKBp sc-hrWEMg jXQlui"><div class="sc-iRbamj fcGLpU sc-gPEVay iZWcVf"><div class="sc-gzVnrw hZnCYl sc-bZQynM kMvugX"><h1 class="sc-kIPQKe gjWQCQ sc-kfGgVZ dUmRVh">IceCave DB</h1><p><a href="https://travis-ci.org/LucianBuzzo/IceCave-DB" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><img alt="Build Status" src="https://travis-ci.org/LucianBuzzo/IceCave-DB.svg?branch=master"/></a>
<a href="http://badge.fury.io/js/icecave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><img alt="npm version" src="https://badge.fury.io/js/icecave.svg"/></a>
<a href="https://david-dm.org/LucianBuzzo/IceCave-DB" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><img alt="Dependency Status" src="https://img.shields.io/david/LucianBuzzo/IceCave-DB.svg"/></a></p><p>A lightweight flat file storage system for nodejs.</p><p>Query using <a href="https://json-schema.org/" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">JSON schema</a> and update using <a href="https://tools.ietf.org/html/rfc6902" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">JSON patch</a>.</p><p>IceCave is designed for use in applications where relatively small amounts of
data (less than 10000 elements) need to be stored persistently and a dedicated
external database service is impractical or overkill.
IceCave stores data in-memory and periodically dumps it&#x27;s contents to
a JSON file. On startup it will read this file location and load any data found
there.</p><h1 class="sc-kIPQKe gjWQCQ sc-kfGgVZ dUmRVh">Usage</h1><p>Below is an example how to use IceCave DB:</p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> <span class="token maybe-class-name">IceCave</span> <span class="token" style="color:#c76b29">=</span> <span class="token function">require</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#22a2c9">&#x27;icecave&#x27;</span><span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">;</span>

<span class="token" style="color:#898ea4">// Create a new storage instance that will be written to the directory &#x27;./data-directory&#x27;</span>
<span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  directory<span class="token" style="color:#5e6687">:</span> __dirname <span class="token" style="color:#c76b29">+</span> <span class="token" style="color:#22a2c9">&#x27;/data-directory&#x27;</span><span class="token" style="color:#5e6687">,</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// Add elements to the database</span>
db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">1</span><span class="token" style="color:#5e6687">,</span> name<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;Abra&#x27;</span> <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>
db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">2</span><span class="token" style="color:#5e6687">,</span> name<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;Bulbasaur&#x27;</span> <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>
db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">3</span><span class="token" style="color:#5e6687">,</span> name<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;Caterpie&#x27;</span> <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// Find an element</span>
<span class="token" style="color:#ac9739">const</span> user <span class="token" style="color:#c76b29">=</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">query</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;string&#x27;</span><span class="token" style="color:#5e6687">,</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">2</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#898ea4">// --&gt; { id: 2, name: &#x27;Bulbasaur&#x27; }</span>

<span class="token" style="color:#898ea4">// Update an element</span>
<span class="token" style="color:#ac9739">const</span> user <span class="token" style="color:#c76b29">=</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">update</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;string&#x27;</span><span class="token" style="color:#5e6687">,</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">2</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#5e6687">[</span>
  <span class="token" style="color:#5e6687">{</span> op<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;replace&#x27;</span><span class="token" style="color:#5e6687">,</span> path<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;/name&#x27;</span><span class="token" style="color:#5e6687">,</span> value<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;Beedrill&#x27;</span> <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">,</span>
  <span class="token" style="color:#5e6687">{</span> op<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;add&#x27;</span><span class="token" style="color:#5e6687">,</span> path<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;/type&#x27;</span><span class="token" style="color:#5e6687">,</span> value<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">[</span> <span class="token" style="color:#22a2c9">&#x27;bug&#x27;</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;poison&#x27;</span> <span class="token" style="color:#5e6687">]</span> <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">]</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#898ea4">// --&gt; { id: 2, name: &#x27;Beedrill&#x27;, type: [ &#x27;bug&#x27;, &#x27;poison&#x27; ] }</span>

<span class="token" style="color:#898ea4">// Delete an element</span>
<span class="token" style="color:#ac9739">const</span> user <span class="token" style="color:#c76b29">=</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">delete</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    id<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;string&#x27;</span><span class="token" style="color:#5e6687">,</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#c76b29">3</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span></code></pre><h1 class="sc-kIPQKe gjWQCQ sc-kfGgVZ dUmRVh">Documentation</h1><h2 class="sc-eXEjpC UqdZO sc-kfGgVZ dUmRVh">IceCave instance</h2><p><strong>Kind</strong>: global class<br/><strong>Summary</strong>: Create an instance of IceCave<br/><strong>Access</strong>: public  </p><ul><li><a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">IceCave</a><ul><li><a href="#new_IceCave_new" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">new IceCave(config)</a></li><li><a href="#IceCave+dump" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.dump()</a> ⇒ <code>Promise.<!-- -->&lt;<!-- -->String<!-- -->&gt;</code></li><li><a href="#IceCave+insert" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.insert(element)</a></li><li><a href="#IceCave+delete" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.delete(query)</a></li><li><a href="#IceCave+filter" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.filter(query)</a> ⇒ <code>Array</code></li><li><a href="#IceCave+update" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.update(query, patch)</a></li><li><a href="#IceCave+shutdown" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">.shutdown()</a> ⇒ <code>Promise</code></li></ul></li></ul><p><span><a name="new_IceCave_new"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">new IceCave(config)</h3><table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>config</td><td><code>Object</code></td><td></td><td>Configuration object</td></tr><tr><td><a href="">config.directory</a></td><td><code>String</code></td><td><code>./icecave-data</code></td><td>The directory where icecave data is stored</td></tr><tr><td><a href="">config.name</a></td><td><code>String</code></td><td><code>icecave</code></td><td>The name of this instance</td></tr><tr><td><a href="">config.memoryOnly</a></td><td><code>Boolean</code></td><td><code>false</code></td><td>Set to true to stop the db from being written to the filesystem</td></tr></tbody></table><p><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+dump"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.dump() ⇒ <code>Promise.<!-- -->&lt;<!-- -->String<!-- -->&gt;</code></h3><p>Dumps the store to a JSON file and shuts down the DB</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Summary</strong>: Writes the in memory storage to a JSON file.<br/><strong>Returns</strong>: <code>Promise.<!-- -->&lt;<!-- -->String<!-- -->&gt;</code> - The path of the stored JSON file<br/><strong>Access</strong>: public<br/><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#ac9739">await</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">dump</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+insert"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.insert(element)</h3><p>Insert an element into the database</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Access</strong>: public  </p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>element</td><td><code>Object</code></td><td>The element to insert</td></tr></tbody></table><p><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span><span class="token" style="color:#5e6687">,</span>
  baz<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;buzz&#x27;</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+delete"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.delete(query)</h3><p>Delete elements in the store the match a JSON schema.</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Access</strong>: public  </p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>query</td><td><code>Object</code></td><td>The JSON schema to validate against</td></tr></tbody></table><p><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span><span class="token" style="color:#5e6687">,</span>
  baz<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;buzz&#x27;</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">delete</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+filter"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.filter(query) ⇒ <code>Array</code></h3><p>Retrieve elements in the store that match a JSON schema.</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Returns</strong>: <code>Array</code> - An array of elements<br/><strong>Access</strong>: public  </p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>query</td><td><code>Object</code></td><td>The JSON schema to validate against</td></tr></tbody></table><p><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span><span class="token" style="color:#5e6687">,</span>
  baz<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;buzz&#x27;</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#ac9739">const</span> results <span class="token" style="color:#c76b29">=</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">filter</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token console class-name">console</span><span class="token" style="color:#5e6687">.</span><span class="token method function property-access">log</span><span class="token" style="color:#5e6687">(</span>results<span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+update"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.update(query, patch)</h3><p>Select elements that match a JSON schema and update them
using a JSON patch object.</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Summary</strong>: Update one or more elements<br/><strong>Access</strong>: public<br/><strong>See</strong>: <a href="https://tools.ietf.org/html/rfc6902" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank">https://tools.ietf.org/html/rfc6902</a>  </p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>query</td><td><code>Object</code></td><td>The JSON schema to validate against</td></tr><tr><td>patch</td><td><code>Object</code></td><td>An RFC 6902 JSON patch object</td></tr></tbody></table><p><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">insert</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span><span class="token" style="color:#5e6687">,</span>
  baz<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;buzz&#x27;</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">update</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span>
  type<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;object&#x27;</span><span class="token" style="color:#5e6687">,</span>
  properties<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
    foo<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#5e6687">{</span>
      <span class="token" style="color:#ac9739">const</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;bar&#x27;</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">,</span>
<span class="token" style="color:#5e6687">[</span>
  <span class="token" style="color:#5e6687">{</span> <span class="token" style="color:#22a2c9">&quot;op&quot;</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&quot;replace&quot;</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&quot;path&quot;</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&quot;/baz&quot;</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&quot;value&quot;</span><span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&quot;boo&quot;</span> <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">]</span><span class="token" style="color:#5e6687">)</span></code></pre><p><span><a name="IceCave+shutdown"></span><span></a></span></p><h3 class="sc-ibxdXY kDsEqN sc-kfGgVZ dUmRVh">iceCave.shutdown() ⇒ <code>Promise</code></h3><p>Dumps the store to a JSON file and shuts down the DB</p><p><strong>Kind</strong>: instance method of <a href="#IceCave" color="primary.main" class="sc-bsbRJL klRfOT sc-iQNlJl edqeIn" rel="noopener" target="_blank"><code>IceCave</code></a><br/><strong>Summary</strong>: Shutdown the database<br/><strong>Access</strong>: public<br/><strong>Example</strong>  </p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">const</span> db <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">new</span> <span class="token class-name">IceCave</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#ac9739">await</span> db<span class="token" style="color:#5e6687">.</span><span class="token method function property-access">shutdown</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span></code></pre></div></div></div></div></div></div><script type="text/javascript">window.__CSS_CHUNKS__ = {"main":"/icecave/styles.ac76d160.css"}</script><script type="text/javascript">
    window.__routeInfo = {"path":"/","templateID":0,"sharedPropsHashes":{},"localProps":null,"allProps":{},"siteData":{"license":"MIT","contributing":null,"architecture":null,"readme":"# IceCave DB\n\n[![Build Status](https://travis-ci.org/LucianBuzzo/IceCave-DB.svg?branch=master)](https://travis-ci.org/LucianBuzzo/IceCave-DB)\n[![npm version](https://badge.fury.io/js/icecave.svg)](http://badge.fury.io/js/icecave)\n[![Dependency Status](https://img.shields.io/david/LucianBuzzo/IceCave-DB.svg)](https://david-dm.org/LucianBuzzo/IceCave-DB)\n\nA lightweight flat file storage system for nodejs.\n\nQuery using [JSON schema](https://json-schema.org/) and update using [JSON patch](https://tools.ietf.org/html/rfc6902).\n\nIceCave is designed for use in applications where relatively small amounts of\ndata (less than 10000 elements) need to be stored persistently and a dedicated\nexternal database service is impractical or overkill.\nIceCave stores data in-memory and periodically dumps it's contents to\na JSON file. On startup it will read this file location and load any data found\nthere.\n\n# Usage\n\nBelow is an example how to use IceCave DB:\n\n```js\nconst IceCave = require('icecave');\n\n// Create a new storage instance that will be written to the directory './data-directory'\nconst db = new IceCave({\n  directory: __dirname + '/data-directory',\n})\n\n// Add elements to the database\ndb.insert({ id: 1, name: 'Abra' })\ndb.insert({ id: 2, name: 'Bulbasaur' })\ndb.insert({ id: 3, name: 'Caterpie' })\n\n// Find an element\nconst user = db.query({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 2\n    }\n  }\n}) // --> { id: 2, name: 'Bulbasaur' }\n\n// Update an element\nconst user = db.update({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 2\n    }\n  }\n}, [\n  { op: 'replace', path: '/name', value: 'Beedrill' },\n  { op: 'add', path: '/type', value: [ 'bug', 'poison' ] }\n]) // --> { id: 2, name: 'Beedrill', type: [ 'bug', 'poison' ] }\n\n// Delete an element\nconst user = db.delete({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 3\n    }\n  }\n})\n```\n\n# Documentation\n\n## IceCave instance\n\n**Kind**: global class  \n**Summary**: Create an instance of IceCave  \n**Access**: public  \n\n* [IceCave](#IceCave)\n    * [new IceCave(config)](#new_IceCave_new)\n    * [.dump()](#IceCave+dump) ⇒ <code>Promise.&lt;String&gt;</code>\n    * [.insert(element)](#IceCave+insert)\n    * [.delete(query)](#IceCave+delete)\n    * [.filter(query)](#IceCave+filter) ⇒ <code>Array</code>\n    * [.update(query, patch)](#IceCave+update)\n    * [.shutdown()](#IceCave+shutdown) ⇒ <code>Promise</code>\n\n<a name=\"new_IceCave_new\"></a>\n\n### new IceCave(config)\n\n| Param | Type | Default | Description |\n| --- | --- | --- | --- |\n| config | <code>Object</code> |  | Configuration object |\n| [config.directory] | <code>String</code> | <code>./icecave-data</code> | The directory where icecave data is stored |\n| [config.name] | <code>String</code> | <code>icecave</code> | The name of this instance |\n| [config.memoryOnly] | <code>Boolean</code> | <code>false</code> | Set to true to stop the db from being written to the filesystem |\n\n**Example**  \n```js\nconst db = new IceCave()\n```\n<a name=\"IceCave+dump\"></a>\n\n### iceCave.dump() ⇒ <code>Promise.&lt;String&gt;</code>\nDumps the store to a JSON file and shuts down the DB\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Writes the in memory storage to a JSON file.  \n**Returns**: <code>Promise.&lt;String&gt;</code> - The path of the stored JSON file  \n**Access**: public  \n**Example**  \n```js\nconst db = new IceCave()\n\nawait db.dump()\n```\n<a name=\"IceCave+insert\"></a>\n\n### iceCave.insert(element)\nInsert an element into the database\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| element | <code>Object</code> | The element to insert |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n```\n<a name=\"IceCave+delete\"></a>\n\n### iceCave.delete(query)\nDelete elements in the store the match a JSON schema.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\ndb.delete({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n})\n```\n<a name=\"IceCave+filter\"></a>\n\n### iceCave.filter(query) ⇒ <code>Array</code>\nRetrieve elements in the store that match a JSON schema.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Returns**: <code>Array</code> - An array of elements  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\nconst results = db.filter({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n})\n\nconsole.log(results)\n```\n<a name=\"IceCave+update\"></a>\n\n### iceCave.update(query, patch)\nSelect elements that match a JSON schema and update them\nusing a JSON patch object.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Update one or more elements  \n**Access**: public  \n**See**: https://tools.ietf.org/html/rfc6902  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n| patch | <code>Object</code> | An RFC 6902 JSON patch object |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\ndb.update({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n},\n[\n  { \"op\": \"replace\", \"path\": \"/baz\", \"value\": \"boo\" }\n])\n```\n<a name=\"IceCave+shutdown\"></a>\n\n### iceCave.shutdown() ⇒ <code>Promise</code>\nDumps the store to a JSON file and shuts down the DB\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Shutdown the database  \n**Access**: public  \n**Example**  \n```js\nconst db = new IceCave()\n\nawait db.shutdown()\n```\n\n","name":"icecave","public":true,"fork":true,"description":"Fast and simple flat file storage for small node js projects","dependencies":["ajv","deep-copy","fast-memoize","jsonpatch"],"lastCommitDate":"2018-12-23T09:52:09Z","latestRelease":{"tagName":"2.1.0","asssets":[]},"latestPreRelease":null,"githubUrl":"https://github.com/dimitrisnl/icecave","default":{"license":"MIT","contributing":null,"architecture":null,"readme":"# IceCave DB\n\n[![Build Status](https://travis-ci.org/LucianBuzzo/IceCave-DB.svg?branch=master)](https://travis-ci.org/LucianBuzzo/IceCave-DB)\n[![npm version](https://badge.fury.io/js/icecave.svg)](http://badge.fury.io/js/icecave)\n[![Dependency Status](https://img.shields.io/david/LucianBuzzo/IceCave-DB.svg)](https://david-dm.org/LucianBuzzo/IceCave-DB)\n\nA lightweight flat file storage system for nodejs.\n\nQuery using [JSON schema](https://json-schema.org/) and update using [JSON patch](https://tools.ietf.org/html/rfc6902).\n\nIceCave is designed for use in applications where relatively small amounts of\ndata (less than 10000 elements) need to be stored persistently and a dedicated\nexternal database service is impractical or overkill.\nIceCave stores data in-memory and periodically dumps it's contents to\na JSON file. On startup it will read this file location and load any data found\nthere.\n\n# Usage\n\nBelow is an example how to use IceCave DB:\n\n```js\nconst IceCave = require('icecave');\n\n// Create a new storage instance that will be written to the directory './data-directory'\nconst db = new IceCave({\n  directory: __dirname + '/data-directory',\n})\n\n// Add elements to the database\ndb.insert({ id: 1, name: 'Abra' })\ndb.insert({ id: 2, name: 'Bulbasaur' })\ndb.insert({ id: 3, name: 'Caterpie' })\n\n// Find an element\nconst user = db.query({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 2\n    }\n  }\n}) // --> { id: 2, name: 'Bulbasaur' }\n\n// Update an element\nconst user = db.update({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 2\n    }\n  }\n}, [\n  { op: 'replace', path: '/name', value: 'Beedrill' },\n  { op: 'add', path: '/type', value: [ 'bug', 'poison' ] }\n]) // --> { id: 2, name: 'Beedrill', type: [ 'bug', 'poison' ] }\n\n// Delete an element\nconst user = db.delete({\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      const: 3\n    }\n  }\n})\n```\n\n# Documentation\n\n## IceCave instance\n\n**Kind**: global class  \n**Summary**: Create an instance of IceCave  \n**Access**: public  \n\n* [IceCave](#IceCave)\n    * [new IceCave(config)](#new_IceCave_new)\n    * [.dump()](#IceCave+dump) ⇒ <code>Promise.&lt;String&gt;</code>\n    * [.insert(element)](#IceCave+insert)\n    * [.delete(query)](#IceCave+delete)\n    * [.filter(query)](#IceCave+filter) ⇒ <code>Array</code>\n    * [.update(query, patch)](#IceCave+update)\n    * [.shutdown()](#IceCave+shutdown) ⇒ <code>Promise</code>\n\n<a name=\"new_IceCave_new\"></a>\n\n### new IceCave(config)\n\n| Param | Type | Default | Description |\n| --- | --- | --- | --- |\n| config | <code>Object</code> |  | Configuration object |\n| [config.directory] | <code>String</code> | <code>./icecave-data</code> | The directory where icecave data is stored |\n| [config.name] | <code>String</code> | <code>icecave</code> | The name of this instance |\n| [config.memoryOnly] | <code>Boolean</code> | <code>false</code> | Set to true to stop the db from being written to the filesystem |\n\n**Example**  \n```js\nconst db = new IceCave()\n```\n<a name=\"IceCave+dump\"></a>\n\n### iceCave.dump() ⇒ <code>Promise.&lt;String&gt;</code>\nDumps the store to a JSON file and shuts down the DB\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Writes the in memory storage to a JSON file.  \n**Returns**: <code>Promise.&lt;String&gt;</code> - The path of the stored JSON file  \n**Access**: public  \n**Example**  \n```js\nconst db = new IceCave()\n\nawait db.dump()\n```\n<a name=\"IceCave+insert\"></a>\n\n### iceCave.insert(element)\nInsert an element into the database\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| element | <code>Object</code> | The element to insert |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n```\n<a name=\"IceCave+delete\"></a>\n\n### iceCave.delete(query)\nDelete elements in the store the match a JSON schema.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\ndb.delete({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n})\n```\n<a name=\"IceCave+filter\"></a>\n\n### iceCave.filter(query) ⇒ <code>Array</code>\nRetrieve elements in the store that match a JSON schema.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Returns**: <code>Array</code> - An array of elements  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\nconst results = db.filter({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n})\n\nconsole.log(results)\n```\n<a name=\"IceCave+update\"></a>\n\n### iceCave.update(query, patch)\nSelect elements that match a JSON schema and update them\nusing a JSON patch object.\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Update one or more elements  \n**Access**: public  \n**See**: https://tools.ietf.org/html/rfc6902  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| query | <code>Object</code> | The JSON schema to validate against |\n| patch | <code>Object</code> | An RFC 6902 JSON patch object |\n\n**Example**  \n```js\nconst db = new IceCave()\n\ndb.insert({\n  foo: 'bar',\n  baz: 'buzz'\n})\n\ndb.update({\n  type: 'object',\n  properties: {\n    foo: {\n      const: 'bar'\n    }\n  }\n},\n[\n  { \"op\": \"replace\", \"path\": \"/baz\", \"value\": \"boo\" }\n])\n```\n<a name=\"IceCave+shutdown\"></a>\n\n### iceCave.shutdown() ⇒ <code>Promise</code>\nDumps the store to a JSON file and shuts down the DB\n\n**Kind**: instance method of [<code>IceCave</code>](#IceCave)  \n**Summary**: Shutdown the database  \n**Access**: public  \n**Example**  \n```js\nconst db = new IceCave()\n\nawait db.shutdown()\n```\n\n","name":"icecave","public":true,"fork":true,"description":"Fast and simple flat file storage for small node js projects","dependencies":["ajv","deep-copy","fast-memoize","jsonpatch"],"lastCommitDate":"2018-12-23T09:52:09Z","latestRelease":{"tagName":"2.1.0","asssets":[]},"latestPreRelease":null,"githubUrl":"https://github.com/dimitrisnl/icecave"}}};</script><script defer="" type="text/javascript" src="/icecave/bootstrap.2d3c5c1c.js"></script><script defer="" type="text/javascript" src="/icecave/templates/src/containers/Home.3ac16124.js"></script><script defer="" type="text/javascript" src="/icecave/main.279a06b6.js"></script></body></html>